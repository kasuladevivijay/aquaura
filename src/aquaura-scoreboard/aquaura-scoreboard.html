<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/google-chart/google-chart.html">
<link rel="import" href="../elements/elements.html">


<dom-module id="aquaura-scoreboard">
  <template>
    <style>
      :host {
        display: block;
      }
      table{
      	width: 400px;
      }
      tr{
      	text-align: center;
      }
    </style>
    <style is="custom-style">
      paper-material{
        margin: 20px;
      }
		google-chart {
  height: 300px;
  width: 50em;
}
      
     </style>

     <paper-material elevation="3" layout flex>
        <h3 style="text-align: center; padding: 10px;">aquaura-scoreboard</h3>
     </paper-material>


    <paper-material elevation="3" layout flex>
      <paper-datatable data="{{data}}"  selectable selected-item="{{selectedItem}}">

      <paper-datatable-column header="Teams/Games" property="title" type="string" disable>
      </paper-datatable-column>

      <template is="dom-repeat" items={{items}}>
        <paper-datatable-column
                 header="{{item.header}}" 
                 property="{{item.prop}}" 
                 type="Number" 
                 sortable 
                 tooltip="{{item.header}}">
      </paper-datatable-column>
      </template>    

    </paper-datatable>
    </paper-material>
    
    <paper-material elevation="3" layout flex style="text-align:center;padding:10px;">
    	<h3>{{selectedItem.title}}</h3>
    	<br>
    	<google-chart
  		type='bar'
  		options='{"title": "Points Summary"}'
  		data='{{data}}'>
</google-chart>
<canvas id="myChart" width="400" height="400"></canvas>
    	<table summary="Points Summary" align="center" style="border:solid 2px;">
    		<tr>
				<td>Game</td><td>Points</td>    		
    		</tr>
    		<tr>
				<td>Nomination</td> <td>{{selectedItem.nominy}}</td>     		
    		</tr>
			<tr>
				<td>Logo Hanging</td> <td>{{selectedItem.lh}}</td>     		
    		</tr>
    		<tr>
				<td>Logo Judging</td> <td>{{selectedItem.lj}}</td>     		
    		</tr>
			<tr>
				<td>Online Game 1</td> <td>{{selectedItem.og1}}</td>     		
    		</tr>
		</table>
    	
    </paper-material>

    <!-- chart -->
  
  </template>
  <script>
    Polymer({

      is: 'aquaura-scoreboard',

      ready: function(){
        this.items = [
                  {header: 'Nomination', prop: 'nominy'},
                  {header: 'Logo Hanging', prop: 'lh'},
                  {header: 'Logo Judging', prop: 'lj'},
                  {header: 'Online Game 1', prop: 'og1'},
                  {header: 'Mad Ad', prop: 'madad'},
                  {header: 'Online Game 2', prop: 'og2'},
                  {header: 'Online Game 3', prop: 'og3'},
                  {header: 'Online Game 4', prop: 'og4'},
						{header: 'Caterpillar Walk', prop: 'cw'},
                  {header: 'Total', prop: 'total'}
          ]
      },

      properties: {
        data: {
          type: Object,
          notify: true,
          value: [{id:0, title: 'House of Rain', nominy: 0, lh:50, lj: 345, og1:50, madad:365, og2: 0, og3:0, og4:170, cw:600 , total: 1580},
                  {id:1, title: 'Toofani Pirates', nominy: 0, lh:50, lj: 305, og1:65, madad: 360,og2: 0, og3:0, og4:190, cw:480 , total:1450},
                  {id:2, title: 'Thundering Storms', nominy: 0, lh:50, lj:220, og1:35, madad: 315,og2: 0, og3:0,og4:180, cw:240 ,  total: 1040},
                  {id:3, title: 'MeghDoot', nominy: 0, lh:50, lj:300, og1:50, madad: 430, og2: 0, og3:0, og4:160, cw:940 ,total: 1930},
                  {id:4, title: 'Tropical Thunder', nominy: 50, lh:50, lj: 350, og1:55, madad: 320, og2: 0, og3:0, og4:200,cw:380 , total: 1405},
                  {id:5, title: 'Rainbow Splendour', nominy: 100, lh:50, lj:320, og1:45, madad: 390, og2: 0, og3:0, og4:190,cw:820 , total: 1915},
                  {id:6, title: 'CloudBurst', nominy: 200, lh:50, lj:260, og1:60, madad:400, og2:0, og3:0, og4:170, cw:1600 ,total: 2740}
                  ]
        }
      } 
    	
    });
    
    document.addEventListener('WebComponentsReady', function() {
      console.log("in main function");
    });
    
    var ctx = $("#myChart");
    console.log('ctx: ',ctx);
    var myChart = new Chart(ctx, {
			type: 'bar',
			data: {
        		labels: ["Nomination", "LOGO Hanging", "LOGO Judgement", "OG1", "Mad Ad", "OG2", "OG3", "OG4", "Caterpillar Walk"],
        		datasets: [{
            	label: '# of Points',
            	data: [200,50,260,60,400,0,0,170,1600],
            	backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)'
            ],
            borderWidth: 1
            }]
          },
          options: {
          responsive: true,
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }     
    });
    
    
    
    
  </script>
</dom-module>
